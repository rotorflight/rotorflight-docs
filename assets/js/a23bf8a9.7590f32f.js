"use strict";(self.webpackChunkrotorflight_docs=self.webpackChunkrotorflight_docs||[]).push([[5573],{28453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>l});var n=i(96540);const s={},r=n.createContext(s);function o(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:t},e.children)}},55224:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/rpm-filters-missing-636f4c3a9a935c4644dea41490fb2cae.png"},83080:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"setup/rpm-filters","title":"RPM Filters","description":"Introduction","source":"@site/docs/setup/rpm-filters.md","sourceDirName":"setup","slug":"/setup/rpm-filters","permalink":"/docs/next/setup/rpm-filters","draft":false,"unlisted":false,"editUrl":"https://github.com/rotorflight/rotorflight-docs/tree/main/docs/setup/rpm-filters.md","tags":[],"version":"current","sidebarPosition":90,"frontMatter":{"sidebar_position":90},"sidebar":"tutorialSidebar","previous":{"title":"Governor setup","permalink":"/docs/next/setup/governor-setup"},"next":{"title":"ESC Telemetry","permalink":"/docs/next/setup/esc-telemetry"}}');var s=i(74848),r=i(28453);const o={sidebar_position:90},l="RPM Filters",a={},h=[{value:"Introduction",id:"introduction",level:2},{value:"Dynamic filters",id:"dynamic-filters",level:2},{value:"RPM Filters",id:"rpm-filters-1",level:2},{value:"Filter Tuning",id:"filter-tuning",level:2}];function c(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"rpm-filters",children:"RPM Filters"})}),"\n",(0,s.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(t.p,{children:"RPM filters clean up the gyro signals by filtering out vibrations that are coming from the rotating parts in a helicopter: the main rotor, tail rotor and motor(s). These vibrations are seen as noise in the gyro signal. Removing these vibrations (noise) results in a cleaner signal which is more representative of the physical movement of the helicopter. A cleaner signal is much better for the controller to operate from."}),"\n",(0,s.jsx)(t.p,{children:"Nothing comes for free. Filters result in a cleaner signal at the expense of lag. The filtered signal is slightly slower than the original. This means to have the most responsive controller we should minimise the filters used."}),"\n",(0,s.jsx)(t.h2,{id:"dynamic-filters",children:"Dynamic filters"}),"\n",(0,s.jsxs)(t.p,{children:["Dynamic filters will filter the gyro signal when an ",(0,s.jsx)(t.a,{href:"/docs/next/setup/rpm-measurement",children:"RPM measurement"})," is not available or it is not accurate. These are not as capable as the RPM filters. These can be used if"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"No RPM signal available - Helicopters that do not have an RPM input or bi-directional dshot."}),"\n",(0,s.jsx)(t.li,{children:"Autorotations - In this case the RPM measurement is not correct due to the one way bearing. You may wish to enable 2 notches to account for this."}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"rpm-filters-1",children:"RPM Filters"}),"\n",(0,s.jsx)(t.h2,{id:"filter-tuning",children:"Filter Tuning"}),"\n",(0,s.jsxs)(t.p,{children:["Make a blackbox log of a short flight with constant headspeed. Scroll to the point where the heli has spooled up and is hovering. Mark that point with the ",(0,s.jsx)(t.code,{children:"I"})," key. Scroll near the end and mark that with the ",(0,s.jsx)(t.code,{children:"O"})," key. Now bring up the ",(0,s.jsx)(t.em,{children:"Analyzer Display"})," and enlarge it. It might look like:"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Missing filters",src:i(55224).A+"",width:"1393",height:"940"})}),"\n",(0,s.jsx)(t.p,{children:"This log was made with only a double fundamental filter. As you can see there's some noise around 144Hz. Since the headspeed is 4200 RPM, that must be near the second harmonic (4200/60 = 70*2 = 140Hz). Also note that the gyro signal in the background is also a bit noisy."}),"\n",(0,s.jsx)(t.p,{children:"Now let's add some single filters for the 2nd (140Hz) and 3rd (210Hz) harmonic. Suddenly the log looks a lot cleaner:"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Added filters",src:i(83294).A+"",width:"1393",height:"940"})})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},83294:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/rpm-filters-added-e59278055fba570a444e245705faac94.png"}}]);